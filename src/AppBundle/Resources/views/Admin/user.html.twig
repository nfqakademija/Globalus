{% extends "@App/Admin/base.html.twig" %}

{% block title %}Vartotojai - {{ parent() }}{% endblock %}

{% block stylesheets %}

    <link href="https://fonts.googleapis.com/css?family=Lato:100" rel="stylesheet" type="text/css">
    {{ parent() }}

    <!-- Custom CSS -->
    <link rel="stylesheet" href={{ asset('bundles/app/style/admin/simple-sidebar.css') }} />


{% endblock %}
{% block body %}
    <div id="wrapper">

        {% include "AppBundle:Admin:header.html.twig" %}

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">Atidarykite/Uždaryktie meniu</a>
                        <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Ieškoti el pašo" title="Type in a name" style="color:black">

                        <section>
                            <!--for demo wrap-->
                            <h1>Vartotojai</h1>
                            <div class="tbl-header">
                                <table cellpadding="0" cellspacing="0" border="0">
                                    <thead>

                                    <tr>
                                        <th>Id</th>
                                        <th>
                                            <p>El. paštas</p>
                                            <a href="{{ path('usersbyEmailASC') }}">
                                                <button class="glyphicon glyphicon-arrow-up"></button>
                                            </a>
                                            <a href="{{ path('usersbyEmailDESC') }}">
                                                <button class="glyphicon glyphicon-arrow-down"></button>
                                            </a>
                                        </th>
                                        <th>Rolės</th>

                                    </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="tbl-content">
                                <table class="myTableContent" cellpadding="0" cellspacing="0" border="0">
                                    <tbody>
                                    {% for user in users %}
                                        <tr >
                                            <td>{{ user.id }}</td><td><a href="{{ path('users') }}/{{ user.id }}">{{ user.email }}</a> </td>
                                            <td>
                                                {% for role in user.roles %}
                                                    {{ role }}
                                                {% endfor %}
                                            </td>
                                        </tr>
                                    {% endfor %}

                                    </tbody>
                                </table>
                            </div>
                        </section>


                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="{{ asset('bundles/app/style/admin/jquery.js') }}"></script>


    <!-- Menu Toggle Script -->
    <script>
        $("#menu-toggle").click(function(e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
        $(window).on("load resize ", function() {
            var scrollWidth = $('.tbl-content').width() - $('.tbl-content table').width();
            $('.tbl-header').css({'padding-right':scrollWidth});
        }).resize();
    </script>

        <script>
        function myFunction() {
            var input, filter, table, tr, td, i;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            table = document.getElementsByClassName("myTableContent");
            tr = document.getElementsByTagName("tr");
            for (i = 1; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[1];
                if (td) {
                    if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }
    </script>




{% endblock %}
